
# OrganADR Environment2 å®Œæ•´å®‰è£…æŒ‡å—
## åŸºäº WSL2 Ubuntu 22.04 Linux ç¯å¢ƒ

> **âš ï¸ é‡è¦æç¤º**  
> æœ¬æŒ‡å—æ˜¯åœ¨ **WSL2 Ubuntu 22.04 Linux ç¯å¢ƒ**ä¸­é…ç½®ï¼Œ**ä¸æ˜¯åœ¨ Windows ç¯å¢ƒä¸­é…ç½®**ã€‚  
> æ‰€æœ‰å‘½ä»¤éƒ½å¿…é¡»åœ¨ **Ubuntu ç»ˆç«¯**ä¸­æ‰§è¡Œï¼Œè€Œä¸æ˜¯åœ¨ Windows PowerShell æˆ– CMD ä¸­æ‰§è¡Œã€‚

---

## ç›®å½•
1. [ä¸ºä»€ä¹ˆéœ€è¦ WSL2 Linux ç¯å¢ƒ](#ä¸ºä»€ä¹ˆéœ€è¦-wsl2-linux-ç¯å¢ƒ)
2. [ç¯å¢ƒæ¦‚è§ˆ](#ç¯å¢ƒæ¦‚è§ˆ)
3. [å®‰è£…æ­¥éª¤](#å®‰è£…æ­¥éª¤)
4. [å¸¸è§é—®é¢˜ Q&A](#å¸¸è§é—®é¢˜-qa)
5. [éªŒè¯æ¸…å•](#éªŒè¯æ¸…å•)

---

## ä¸ºä»€ä¹ˆéœ€è¦ WSL2 Linux ç¯å¢ƒ

OrganADR é¡¹ç›®çš„ README æ˜ç¡®æŒ‡å‡ºï¼š
- **ç³»ç»Ÿè¦æ±‚**: Ubuntu 22.04 with GPU RTX 4090
- **æ¨è**: Linux system with GPU(s)

ç›´æ¥åœ¨ Windows ä¸‹é…ç½®ä¼šé‡åˆ°ä»¥ä¸‹é—®é¢˜ï¼š
1. âŒ PyTorch çš„ CUDA æ‰©å±•ç¼–è¯‘éœ€è¦ Linux ç¼–è¯‘å™¨
2. âŒ torchdrug ä¾èµ–çš„ä¸€äº›åŒ…åœ¨ Windows ä¸‹ä¸å…¼å®¹
3. âŒ è®­ç»ƒè„šæœ¬ä¸­å­˜åœ¨ Windows/Linux è·¯å¾„å†²çª

å› æ­¤ï¼Œæˆ‘ä»¬ä½¿ç”¨ **WSL2**ï¼ˆWindows Subsystem for Linux 2ï¼‰åœ¨ Windows ç”µè„‘ä¸Šè¿è¡ŒçœŸæ­£çš„ Linux ç¯å¢ƒã€‚

---

## ç¯å¢ƒæ¦‚è§ˆ

### æœ€ç»ˆç¯å¢ƒæ¶æ„
```
Windows 11 Host
    â†“
WSL2 (è™šæ‹ŸåŒ–å±‚)
    â†“
Ubuntu 22.04 (çœŸæ­£çš„ Linux ç³»ç»Ÿ)
    â†“ å…±äº« GPU é©±åŠ¨
NVIDIA GPU (RTX 4090)
```

### è½¯ä»¶ç‰ˆæœ¬
- **æ“ä½œç³»ç»Ÿ**: Ubuntu 22.04 (è¿è¡Œåœ¨ WSL2 ä¸­)
- **Python**: 3.9
- **CUDA**: 11.7
- **PyTorch**: 2.0.0+cu117
- **NumPy**: < 2.0
- **torchdrug**: æœ€æ–°ç‰ˆ

---

## å®‰è£…æ­¥éª¤

### é˜¶æ®µä¸€ï¼šåœ¨ Windows ä¸­å®‰è£… WSL2

> ğŸ“ **æ‰§è¡Œä½ç½®**: Windows PowerShellï¼ˆç®¡ç†å‘˜æƒé™ï¼‰

#### 1.1 å®‰è£… WSL2 å’Œ Ubuntu 22.04

```powershell
# æ‰“å¼€ PowerShellï¼ˆå³é”® "ä»¥ç®¡ç†å‘˜èº«ä»½è¿è¡Œ"ï¼‰
wsl --install -d Ubuntu-22.04
```

**é¢„æœŸè¾“å‡º**:
```
æ­£åœ¨å®‰è£…: é€‚ç”¨äº Linux çš„ Windows å­ç³»ç»Ÿ
å·²å®‰è£… é€‚ç”¨äº Linux çš„ Windows å­ç³»ç»Ÿã€‚
æ­£åœ¨å®‰è£…: Ubuntu 22.04 LTS
å·²å®‰è£… Ubuntu 22.04 LTSã€‚
è¯·æ±‚çš„æ“ä½œæˆåŠŸã€‚ç›´åˆ°é‡æ–°å¯åŠ¨ç³»ç»Ÿå‰æ›´æ”¹å°†ä¸ä¼šç”Ÿæ•ˆã€‚
```

#### 1.2 é‡å¯ç”µè„‘

```powershell
shutdown /r /t 0
```

#### 1.3 é¦–æ¬¡å¯åŠ¨ Ubuntu

é‡å¯åï¼Œåœ¨ Windows å¼€å§‹èœå•ä¸­æ‰¾åˆ° **"Ubuntu 22.04 LTS"** å›¾æ ‡ï¼Œç‚¹å‡»å¯åŠ¨ã€‚

**é¦–æ¬¡å¯åŠ¨ä¼šçœ‹åˆ°**:
```
Installing, this may take a few minutes...
Please create a default UNIX user account.
Enter new UNIX username: 
```

**æ“ä½œ**:
1. è¾“å…¥ç”¨æˆ·åï¼ˆ**å¿…é¡»å°å†™**ï¼Œä¾‹å¦‚ï¼š`diana`ï¼‰
2. è¾“å…¥å¯†ç ï¼ˆè¾“å…¥æ—¶ä¸æ˜¾ç¤ºï¼Œè¿™æ˜¯æ­£å¸¸çš„ï¼‰
3. å†æ¬¡è¾“å…¥å¯†ç ç¡®è®¤

**æˆåŠŸæ ‡å¿—**:
```
Installation successful!
diana@Diana-Tang:~$
```

ç°åœ¨ä½ å·²ç»è¿›å…¥äº†çœŸæ­£çš„ **Linux ç»ˆç«¯**ï¼

---

### é˜¶æ®µäºŒï¼šåœ¨ Ubuntu Linux ä¸­é…ç½®åŸºç¡€ç¯å¢ƒ

> ğŸ“ **æ‰§è¡Œä½ç½®**: Ubuntu ç»ˆç«¯ï¼ˆä»è¿™é‡Œå¼€å§‹ï¼Œæ‰€æœ‰å‘½ä»¤éƒ½åœ¨ Ubuntu ä¸­æ‰§è¡Œï¼‰

#### 2.1 æ›´æ–°ç³»ç»Ÿ

```bash
# æ›´æ–°è½¯ä»¶åŒ…åˆ—è¡¨
sudo apt update

# å‡çº§å·²å®‰è£…çš„è½¯ä»¶åŒ…
sudo apt upgrade -y
```

#### 2.2 éªŒè¯ GPU è®¿é—®

```bash
nvidia-smi
```

**é¢„æœŸè¾“å‡º**:
```
+-----------------------------------------------------------------------------------------+
| NVIDIA-SMI 572.16                 Driver Version: 572.16         CUDA Version: 12.8     |
|--------------------------------------+------------------------+----------------------+
| GPU  Name                           | ...                    | ...                  |
|   0  NVIDIA GeForce RTX 4090 ...    | ...                    | ...                  |
+-----------------------------------------------------------------------------------------+
```

å¦‚æœçœ‹ä¸åˆ°è¿™ä¸ªè¾“å‡ºï¼Œè¯´æ˜ GPU é©±åŠ¨æœ‰é—®é¢˜ï¼Œéœ€è¦ï¼š
1. åœ¨ Windows ä¸Šå®‰è£… NVIDIA CUDA on WSL é©±åŠ¨
2. ä¸‹è½½åœ°å€ï¼šhttps://developer.nvidia.com/cuda/wsl/download
3. å®‰è£…åé‡å¯ WSL: `wsl --shutdown`ï¼ˆåœ¨ Windows PowerShell ä¸­æ‰§è¡Œï¼‰

#### 2.3 å®‰è£…ç¼–è¯‘å·¥å…·

```bash
# å®‰è£… C++ ç¼–è¯‘å™¨å’Œç›¸å…³å·¥å…·
sudo apt install -y build-essential g++ gcc dos2unix

# éªŒè¯å®‰è£…
g++ --version
```

**é¢„æœŸè¾“å‡º**:
```
g++ (Ubuntu 11.4.0-1ubuntu1~22.04) 11.4.0
```

---

### é˜¶æ®µä¸‰ï¼šåœ¨ Ubuntu ä¸­å®‰è£… Miniconda

> ğŸ“ **æ‰§è¡Œä½ç½®**: Ubuntu ç»ˆç«¯

#### 3.1 ä¸‹è½½ Miniconda

```bash
# ä¸‹è½½ Miniconda Linux ç‰ˆæœ¬
cd ~
wget https://repo.anaconda.com/miniconda/Miniconda3-latest-Linux-x86_64.sh
```

#### 3.2 å®‰è£… Miniconda

```bash
# è¿è¡Œå®‰è£…è„šæœ¬
bash Miniconda3-latest-Linux-x86_64.sh
```

**å®‰è£…è¿‡ç¨‹**:
1. æŒ‰ `Enter` é˜…è¯»è®¸å¯åè®®
2. è¾“å…¥ `yes` æ¥å—è®¸å¯
3. æŒ‰ `Enter` ç¡®è®¤å®‰è£…ä½ç½®ï¼ˆé»˜è®¤ `/home/diana/miniconda3`ï¼‰
4. çœ‹åˆ° "Do you wish to update your shell profile..." æ—¶ï¼Œè¾“å…¥ `yes`

#### 3.3 é‡æ–°åŠ è½½é…ç½®

```bash
# é‡æ–°åŠ è½½ bashrc
source ~/.bashrc

# éªŒè¯å®‰è£…
conda --version
```

**é¢„æœŸè¾“å‡º**:
```
conda 24.x.x
```

#### 3.4 åˆå§‹åŒ– Conda

```bash
# åˆå§‹åŒ– bash shell
conda init bash

# å†æ¬¡é‡æ–°åŠ è½½
source ~/.bashrc
```

ç°åœ¨ä½ çš„ç»ˆç«¯æç¤ºç¬¦åº”è¯¥å˜æˆï¼š
```
(base) diana@Diana-Tang:~$
```

æ³¨æ„å‰é¢çš„ `(base)` è¡¨ç¤º conda åŸºç¡€ç¯å¢ƒå·²æ¿€æ´»ã€‚

---

### é˜¶æ®µå››ï¼šåœ¨ Ubuntu ä¸­å®‰è£… CUDA Toolkit

> ğŸ“ **æ‰§è¡Œä½ç½®**: Ubuntu ç»ˆç«¯

#### 4.1 å®‰è£… CUDA ä»“åº“å¯†é’¥

```bash
cd ~
wget https://developer.download.nvidia.com/compute/cuda/repos/wsl-ubuntu/x86_64/cuda-keyring_1.1-1_all.deb
sudo dpkg -i cuda-keyring_1.1-1_all.deb
```

#### 4.2 å®‰è£… CUDA Toolkit 11.7

```bash
# æ›´æ–°åŒ…åˆ—è¡¨
sudo apt-get update

# å®‰è£… CUDA Toolkit 11.7
sudo apt-get -y install cuda-toolkit-11-7
```

**æ³¨æ„**: å®‰è£…è¿‡ç¨‹å¯èƒ½éœ€è¦ 5-10 åˆ†é’Ÿã€‚

#### 4.3 é…ç½® CUDA ç¯å¢ƒå˜é‡

```bash
# å°† CUDA ç¯å¢ƒå˜é‡æ·»åŠ åˆ° bashrc
cat >> ~/.bashrc << 'EOF'

# CUDA 11.7 Environment
export PATH=/usr/local/cuda-11.7/bin:$PATH
export LD_LIBRARY_PATH=/usr/local/cuda-11.7/lib64:$LD_LIBRARY_PATH
export CUDA_HOME=/usr/local/cuda-11.7
export CUDA_PATH=/usr/local/cuda-11.7
EOF

# é‡æ–°åŠ è½½é…ç½®
source ~/.bashrc
```

#### 4.4 éªŒè¯ CUDA å®‰è£…

```bash
nvcc --version
```

**é¢„æœŸè¾“å‡º**:
```
nvcc: NVIDIA (R) Cuda compiler driver
Cuda compilation tools, release 11.7, V11.7.99
```

---

### é˜¶æ®µäº”ï¼šåœ¨ Ubuntu ä¸­å¤åˆ¶é¡¹ç›®æ–‡ä»¶

> ğŸ“ **æ‰§è¡Œä½ç½®**: Ubuntu ç»ˆç«¯

#### 5.1 ç†è§£ Windows å’Œ WSL2 çš„æ–‡ä»¶ç³»ç»Ÿæ˜ å°„

åœ¨ WSL2 çš„ Ubuntu ä¸­ï¼š
- Windows çš„ `C:\` ç›˜æ˜ å°„ä¸º `/mnt/c/`
- Windows çš„ `D:\` ç›˜æ˜ å°„ä¸º `/mnt/d/`
- ä¾æ­¤ç±»æ¨

ä¾‹å¦‚ï¼š
- Windows è·¯å¾„: `C:\DianaFile\tangCode\OrganADR`
- WSL2 è·¯å¾„: `/mnt/c/DianaFile/tangCode/OrganADR`

#### 5.2 å¤åˆ¶é¡¹ç›®åˆ° Linux ç”¨æˆ·ç›®å½•

```bash
# è¿›å…¥ Linux ç”¨æˆ·ä¸»ç›®å½•
cd ~

# ä» Windows å¤åˆ¶é¡¹ç›®åˆ° Linux
cp -r /mnt/c/DianaFile/tangCode/OrganADR ./

# éªŒè¯å¤åˆ¶æˆåŠŸ
ls -la OrganADR/
```

**é¢„æœŸè¾“å‡º**:
```
drwxr-xr-x ... Part_01---To_Set_up_Necessary_Environment(s)---and---Download_Necessary_Files
drwxr-xr-x ... Part_02---Demo_of_Training_and_Evaluating_OrganADR
...
```

**é‡è¦è¯´æ˜**:
- é¡¹ç›®ç°åœ¨ä½äº Linux æ–‡ä»¶ç³»ç»Ÿ: `~/OrganADR` (å³ `/home/diana/OrganADR`)
- è¿™æ˜¯ä¸€ä¸ª**ç‹¬ç«‹å‰¯æœ¬**ï¼Œä¸ Windows ä¸­çš„åŸæ–‡ä»¶åˆ†ç¦»
- **æ‰€æœ‰åç»­æ“ä½œéƒ½åœ¨è¿™ä¸ª Linux å‰¯æœ¬ä¸Šè¿›è¡Œ**

---

### é˜¶æ®µå…­ï¼šåœ¨ Ubuntu ä¸­åˆ›å»º Environment2 ç¯å¢ƒ

> ğŸ“ **æ‰§è¡Œä½ç½®**: Ubuntu ç»ˆç«¯

#### 6.1 è¿›å…¥å®‰è£…ç›®å½•

```bash
cd ~/OrganADR/Part_01---To_Set_up_Necessary_Environment\(s\)---and---Download_Necessary_Files

# æŸ¥çœ‹ç›®å½•å†…å®¹
ls -la
```

**é¢„æœŸçœ‹åˆ°**:
```
environment1.txt
environment1.yaml
environment2.bash
...
```

#### 6.2 åˆ›å»º whls ç›®å½•å¹¶ä¸‹è½½ PyTorch åŒ…

```bash
# åˆ›å»ºç›®å½•
mkdir -p whls
cd whls

# ä¸‹è½½ PyTorch ç›¸å…³ .whl æ–‡ä»¶ï¼ˆLinux ç‰ˆæœ¬ï¼‰
wget https://download.pytorch.org/whl/cu117/torch-2.0.0%2Bcu117-cp39-cp39-linux_x86_64.whl
wget https://data.pyg.org/whl/torch-2.0.0%2Bcu117/pyg_lib-0.4.0%2Bpt20cu117-cp39-cp39-linux_x86_64.whl
wget https://data.pyg.org/whl/torch-2.0.0%2Bcu117/torch_cluster-1.6.3%2Bpt20cu117-cp39-cp39-linux_x86_64.whl
wget https://data.pyg.org/whl/torch-2.0.0%2Bcu117/torch_sparse-0.6.18%2Bpt20cu117-cp39-cp39-linux_x86_64.whl
wget https://data.pyg.org/whl/torch-2.0.0%2Bcu117/torch_scatter-2.1.2%2Bpt20cu117-cp39-cp39-linux_x86_64.whl
wget https://data.pyg.org/whl/torch-2.0.0%2Bcu117/torch_spline_conv-1.2.2%2Bpt20cu117-cp39-cp39-linux_x86_64.whl
```

**é‡è¦**: å¿…é¡»ä¸‹è½½ **linux_x86_64** ç‰ˆæœ¬ï¼Œä¸èƒ½ä¸‹è½½ Windows ç‰ˆæœ¬ï¼

#### 6.3 è¿”å›ä¸Šçº§ç›®å½•

```bash
cd ..
pwd  # åº”è¯¥æ˜¾ç¤º: /home/diana/OrganADR/Part_01---To_Set_up_Necessary_Environment(s)---and---Download_Necessary_Files
```

#### 6.4 è½¬æ¢è„šæœ¬æ ¼å¼

```bash
# è½¬æ¢ Windows æ ¼å¼ä¸º Linux æ ¼å¼
dos2unix environment2.bash

# éªŒè¯è½¬æ¢
file environment2.bash
```

**é¢„æœŸè¾“å‡º**:
```
environment2.bash: Bourne-Again shell script, ASCII text executable
```

#### 6.5 æŸ¥çœ‹å¹¶ä¿®æ”¹å®‰è£…è„šæœ¬

```bash
# æŸ¥çœ‹è„šæœ¬å†…å®¹
cat environment2.bash
```

**ç¡®è®¤è„šæœ¬ç¬¬ä¸€è¡Œæ˜¯**:
```bash
source ~/miniconda3/etc/profile.d/conda.sh
```

å¦‚æœä¸æ˜¯ï¼Œç”¨ç¼–è¾‘å™¨ä¿®æ”¹ï¼š

```bash
nano environment2.bash
```

åœ¨ nano ç¼–è¾‘å™¨ä¸­ï¼š
- å°†ç¬¬ä¸€è¡Œæ”¹ä¸º: `source ~/miniconda3/etc/profile.d/conda.sh`
- æŒ‰ `Ctrl+X` é€€å‡º
- æŒ‰ `Y` ä¿å­˜
- æŒ‰ `Enter` ç¡®è®¤

#### 6.6 è¿è¡Œå®‰è£…è„šæœ¬

```bash
bash environment2.bash
```

**è„šæœ¬æ‰§è¡Œè¿‡ç¨‹**:
```
Creating Conda environment: environment2
...
Activating the environment: environment2
...
Installing ipykernel
...
Installing pytorch and pygs
...
```

**é¢„æœŸç»“æœ**: åˆ›å»ºåä¸º `environment2` çš„ conda ç¯å¢ƒï¼Œå®‰è£… Python 3.9 å’Œ PyTorch ç›¸å…³åŒ…ã€‚

#### 6.7 æ¿€æ´»ç¯å¢ƒå¹¶å®‰è£…é¢å¤–ä¾èµ–

```bash
# æ¿€æ´»ç¯å¢ƒ
conda activate environment2

# éªŒè¯ç¯å¢ƒ
python --version  # åº”è¯¥æ˜¾ç¤º Python 3.9.x
```

ä½ çš„ç»ˆç«¯æç¤ºç¬¦åº”è¯¥å˜æˆï¼š
```
(environment2) diana@Diana-Tang:~$
```

**å®‰è£…é¢å¤–ä¾èµ–**:

```bash
# é™çº§ NumPyï¼ˆé‡è¦ï¼ï¼‰
pip install "numpy<2"

# å®‰è£… torchdrug
pip install torchdrug

# å®‰è£…å…¶ä»–ç§‘å­¦è®¡ç®—åŒ…
conda install scikit-learn pandas matplotlib -y
```

#### 6.8 éªŒè¯ç¯å¢ƒ

```bash
# éªŒè¯ PyTorch å’Œ CUDA
python << 'EOF'
import torch
print("PyTorch version:", torch.__version__)
print("CUDA available:", torch.cuda.is_available())
print("CUDA version:", torch.version.cuda)
print("GPU name:", torch.cuda.get_device_name(0) if torch.cuda.is_available() else "No GPU")
EOF
```

**é¢„æœŸè¾“å‡º**:
```
PyTorch version: 2.0.0+cu117
CUDA available: True
CUDA version: 11.7
GPU name: NVIDIA GeForce RTX 4090 Laptop GPU
```

---

### é˜¶æ®µä¸ƒï¼šåœ¨ Ubuntu ä¸­ä¿®å¤è®­ç»ƒè„šæœ¬

> ğŸ“ **æ‰§è¡Œä½ç½®**: Ubuntu ç»ˆç«¯  
> ğŸ¯ **å…³é”®æ­¥éª¤**: å°†è„šæœ¬ä¸­çš„ Windows è·¯å¾„æ”¹ä¸º Linux è·¯å¾„

#### 7.1 è¿›å…¥è®­ç»ƒç›®å½•

```bash
cd ~/OrganADR/Part_02---Demo_of_Training_and_Evaluating_OrganADR/model
```

#### 7.2 å¤‡ä»½åŸå§‹æ–‡ä»¶

```bash
cp train_and_evaluate_demo.py train_and_evaluate_demo.py.backup
```

#### 7.3 ä¿®æ”¹ CUDA è·¯å¾„

```bash
nano train_and_evaluate_demo.py
```

**æ‰¾åˆ°ç¬¬ 8 è¡Œ**:
```python
cuda_path = r"C:\Program Files\NVIDIA GPU Computing Toolkit\CUDA\v12.1"
```

**æ”¹ä¸º**:
```python
cuda_path = "/usr/local/cuda-11.7"
```

#### 7.4 ä¿®æ”¹ GPU æ¶æ„

**æ‰¾åˆ°ç¬¬ 12 è¡Œ**:
```python
os.environ.setdefault("TORCH_CUDA_ARCH_LIST", "8.9")
```

**æ”¹ä¸º**:
```python
os.environ.setdefault("TORCH_CUDA_ARCH_LIST", "8.6")
```

**åŸå› **: RTX 4090 æ˜¯ compute_89 æ¶æ„ï¼Œä½† CUDA 11.7 ä¸æ”¯æŒï¼Œéœ€è¦ä½¿ç”¨å‘ä¸‹å…¼å®¹çš„ 8.6ã€‚

#### 7.5 åˆ é™¤ Windows ç‰¹å®šä»£ç 

**æ‰¾åˆ°ç¬¬ 48-49 è¡Œ**:
```python
os.add_dll_directory(r"C:\Users\tangw\.conda\envs\organadr\Lib\site-packages\torch\lib")
os.add_dll_directory(r"C:\Program Files\NVIDIA GPU Computing Toolkit\CUDA\v12.1\bin")
```

**åˆ é™¤æˆ–æ³¨é‡Šè¿™ä¸¤è¡Œ**:
```python
# os.add_dll_directory(r"C:\Users\tangw\.conda\envs\organadr\Lib\site-packages\torch\lib")
# os.add_dll_directory(r"C:\Program Files\NVIDIA GPU Computing Toolkit\CUDA\v12.1\bin")
```

**åŸå› **: `os.add_dll_directory` æ˜¯ Windows ä¸“ç”¨å‡½æ•°ï¼ŒLinux ä¸éœ€è¦ã€‚

#### 7.6 ä¿å­˜æ–‡ä»¶

åœ¨ nano ç¼–è¾‘å™¨ä¸­ï¼š
- æŒ‰ `Ctrl+X`
- æŒ‰ `Y`
- æŒ‰ `Enter`

#### 7.7 éªŒè¯ä¿®æ”¹

```bash
# éªŒè¯ CUDA è·¯å¾„
grep -n "cuda_path" train_and_evaluate_demo.py

# éªŒè¯ GPU æ¶æ„
grep -n "TORCH_CUDA_ARCH_LIST" train_and_evaluate_demo.py

# éªŒè¯ Windows ä»£ç å·²åˆ é™¤
grep -n "add_dll_directory" train_and_evaluate_demo.py
```

æœ€åä¸€ä¸ªå‘½ä»¤åº”è¯¥**æ²¡æœ‰è¾“å‡º**æˆ–æ˜¾ç¤ºæ³¨é‡Šçš„è¡Œã€‚

---

### é˜¶æ®µå…«ï¼šåœ¨ Ubuntu ä¸­è¿è¡Œè®­ç»ƒ

> ğŸ“ **æ‰§è¡Œä½ç½®**: Ubuntu ç»ˆç«¯

#### 8.1 è®¾ç½®å¹²å‡€çš„ç¯å¢ƒå˜é‡

```bash
# æ¸…ç† PATHï¼Œç§»é™¤ Windows è·¯å¾„
export PATH=/usr/local/cuda-11.7/bin:/home/diana/miniconda3/envs/environment2/bin:/home/diana/miniconda3/condabin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/usr/lib/wsl/lib:/snap/bin

# è®¾ç½® CUDA ç¯å¢ƒå˜é‡
export CUDA_HOME=/usr/local/cuda-11.7
export CUDA_PATH=/usr/local/cuda-11.7
export LD_LIBRARY_PATH=/usr/local/cuda-11.7/lib64
```

#### 8.2 æ¸…é™¤ç¼–è¯‘ç¼“å­˜

```bash
rm -rf ~/.cache/torch_extensions/*
```

#### 8.3 ç¡®è®¤ç¯å¢ƒæ¿€æ´»

```bash
# ç¡®è®¤åœ¨ environment2 ç¯å¢ƒä¸­
conda env list
```

**é¢„æœŸè¾“å‡º**:
```
# conda environments:
#
base                     /home/diana/miniconda3
environment2          *  /home/diana/miniconda3/envs/environment2
```

æ³¨æ„ `environment2` æ—è¾¹æœ‰ `*` æ ‡è®°ã€‚

å¦‚æœæ²¡æœ‰æ¿€æ´»ï¼Œè¿è¡Œï¼š
```bash
conda activate environment2
```

#### 8.4 è¿è¡Œè®­ç»ƒ

```bash
# ç¡®è®¤åœ¨æ­£ç¡®ç›®å½•
pwd  # åº”è¯¥æ˜¾ç¤º: /home/diana/OrganADR/Part_02---Demo_of_Training_and_Evaluating_OrganADR/model

# å¼€å§‹è®­ç»ƒ
python train_and_evaluate_demo.py --config ./config/demo.json
```

**é¢„æœŸè¾“å‡º**:
```
>>> boot
>>> torch ok 2.0.0+cu117
>>> parse config ok: ./config/demo.json
>>> dataloader init start
>>> vtKG ready
>>> dataloader ok
>>> model ok
epoch:  1    [Valid] PR-AUC:0.xxxxxx ROC-AUC:0.xxxxxx    [Test] PR-AUC:0.xxxxxx ROC-AUC:0.xxxxxx
...
```

å¦‚æœçœ‹åˆ°è¿™äº›è¾“å‡ºï¼Œæ­å–œï¼è®­ç»ƒå·²æˆåŠŸå¼€å§‹ï¼ğŸ‰

---

### é˜¶æ®µä¹ï¼šåˆ›å»ºä¾¿æ·å¯åŠ¨è„šæœ¬ï¼ˆå¯é€‰ï¼‰

> ğŸ“ **æ‰§è¡Œä½ç½®**: Ubuntu ç»ˆç«¯

ä¸ºäº†æ–¹ä¾¿ä»¥åä½¿ç”¨ï¼Œåˆ›å»ºä¸€ä¸ªå¯åŠ¨è„šæœ¬ï¼š

```bash
cd ~/OrganADR/Part_02---Demo_of_Training_and_Evaluating_OrganADR/model

cat > run_train.sh << 'EOF'
#!/bin/bash

# è®¾ç½®ç¯å¢ƒå˜é‡
export PATH=/usr/local/cuda-11.7/bin:/home/diana/miniconda3/envs/environment2/bin:/home/diana/miniconda3/condabin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/usr/lib/wsl/lib:/snap/bin
export CUDA_HOME=/usr/local/cuda-11.7
export CUDA_PATH=/usr/local/cuda-11.7
export LD_LIBRARY_PATH=/usr/local/cuda-11.7/lib64

# æ¿€æ´» conda ç¯å¢ƒ
source ~/miniconda3/etc/profile.d/conda.sh
conda activate environment2

# æ¸…é™¤æ—§çš„ç¼–è¯‘ç¼“å­˜
rm -rf ~/.cache/torch_extensions/py39_cu117

echo "Environment ready. Starting training..."

# è¿è¡Œè®­ç»ƒ
python train_and_evaluate_demo.py --config ./config/demo.json
EOF

# æ·»åŠ æ‰§è¡Œæƒé™
chmod +x run_train.sh
```

ä»¥ååªéœ€è¿è¡Œï¼š
```bash
./run_train.sh
```

---

## å¸¸è§é—®é¢˜ Q&A

### Q1: å¦‚ä½•åŒºåˆ†å½“å‰åœ¨ Windows è¿˜æ˜¯ Linux ç¯å¢ƒï¼Ÿ

**åˆ¤æ–­æ–¹æ³•**:

1. **çœ‹ç»ˆç«¯æç¤ºç¬¦**:
   - Windows PowerShell: `PS C:\Users\tangw>`
   - Windows CMD: `C:\Users\tangw>`
   - Ubuntu Linux: `diana@Diana-Tang:~$` æˆ– `(base) diana@Diana-Tang:~$`

2. **è¿è¡Œæµ‹è¯•å‘½ä»¤**:
   ```bash
   # åœ¨ç»ˆç«¯ä¸­è¿è¡Œ
   uname -a
   ```
   
   **Linux ä¼šæ˜¾ç¤º**:
   ```
   Linux Diana-Tang 5.15.x-x-WSL2 #1 SMP ... x86_64 x86_64 x86_64 GNU/Linux
   ```
   
   **Windows ä¼šæŠ¥é”™**:
   ```
   'uname' ä¸æ˜¯å†…éƒ¨æˆ–å¤–éƒ¨å‘½ä»¤
   ```

### Q2: WSL2 Ubuntu ç»ˆç«¯åœ¨å“ªé‡Œæ‰“å¼€ï¼Ÿ

**æ–¹æ³•ä¸€**: ä»å¼€å§‹èœå•
1. ç‚¹å‡» Windows å¼€å§‹èœå•
2. æ‰¾åˆ° "Ubuntu 22.04 LTS" å›¾æ ‡
3. ç‚¹å‡»æ‰“å¼€

**æ–¹æ³•äºŒ**: ä» Windows Terminal
1. æ‰“å¼€ Windows Terminal
2. ç‚¹å‡»ä¸‹æ‹‰èœå•
3. é€‰æ‹© "Ubuntu 22.04"

**æ–¹æ³•ä¸‰**: ä»ä»»æ„ä½ç½®
1. æŒ‰ `Win + R`
2. è¾“å…¥ `wsl`
3. æŒ‰ `Enter`

### Q3: åœ¨ Windows ä¸­ä¿®æ”¹äº†æ–‡ä»¶ï¼Œä¸ºä»€ä¹ˆ Linux ä¸­è¿è¡Œè¿˜æ˜¯æ—§ä»£ç ï¼Ÿ

**åŸå› **:
Linux ä¸­çš„é¡¹ç›® (`~/OrganADR`) æ˜¯ä» Windows å¤åˆ¶è¿‡æ¥çš„**ç‹¬ç«‹å‰¯æœ¬**ã€‚

**æ–‡ä»¶ä½ç½®å¯¹æ¯”**:
- Windows åŸæ–‡ä»¶: `C:\DianaFile\tangCode\OrganADR\...`
- Linux å‰¯æœ¬: `/home/diana/OrganADR/...`ï¼ˆå³ `~/OrganADR/...`ï¼‰

è¿™ä¸¤ä¸ªæ˜¯**å®Œå…¨ç‹¬ç«‹**çš„æ–‡ä»¶ï¼Œä¿®æ”¹ä¸€ä¸ªä¸ä¼šå½±å“å¦ä¸€ä¸ªã€‚

**è§£å†³æ–¹æ¡ˆ**:

**æ–¹æ¡ˆ 1ï¼ˆæ¨èï¼‰**: åªåœ¨ Linux ä¸­å·¥ä½œ
```bash
# åœ¨ Ubuntu ç»ˆç«¯ä¸­ç¼–è¾‘æ–‡ä»¶
nano ~/OrganADR/Part_02.../train_and_evaluate_demo.py
```

**æ–¹æ¡ˆ 2**: ä¿®æ”¹åé‡æ–°å¤åˆ¶
```bash
# å¦‚æœåœ¨ Windows ä¸­ä¿®æ”¹äº†æ–‡ä»¶ï¼Œé‡æ–°å¤åˆ¶åˆ° Linux
cp /mnt/c/DianaFile/tangCode/OrganADR/Part_02.../train_and_evaluate_demo.py ~/OrganADR/Part_02.../
```

**æ–¹æ¡ˆ 3**: ç›´æ¥åœ¨ Linux æ–‡ä»¶ç³»ç»Ÿå·¥ä½œ
åœ¨ Windows æ–‡ä»¶èµ„æºç®¡ç†å™¨åœ°å€æ è¾“å…¥: `\\wsl$\Ubuntu-22.04\home\diana\OrganADR`
å°±å¯ä»¥è®¿é—® Linux æ–‡ä»¶ç³»ç»Ÿï¼Œç”¨ Windows ç¼–è¾‘å™¨ç¼–è¾‘ã€‚

### Q4: å‡ºç° `$'\r': command not found` é”™è¯¯

**é—®é¢˜ç¤ºä¾‹**:
```
environment2.bash: line 10: $'\r': command not found
```

**åŸå› **:
è„šæœ¬æ–‡ä»¶ä½¿ç”¨äº† Windows æ¢è¡Œç¬¦ï¼ˆCRLFï¼‰ï¼ŒLinux éœ€è¦ Unix æ¢è¡Œç¬¦ï¼ˆLFï¼‰ã€‚

**è§£å†³æ–¹æ¡ˆ**:
```bash
# åœ¨ Ubuntu ç»ˆç«¯ä¸­è¿è¡Œ
dos2unix environment2.bash

# éªŒè¯
file environment2.bash
```

### Q5: æ‰¾ä¸åˆ° conda å‘½ä»¤

**é—®é¢˜ç¤ºä¾‹**:
```
conda: command not found
```

**åŸå› **:
conda æ²¡æœ‰æ­£ç¡®åˆå§‹åŒ–ã€‚

**è§£å†³æ–¹æ¡ˆ**:
```bash
# åœ¨ Ubuntu ç»ˆç«¯ä¸­è¿è¡Œ
source ~/miniconda3/etc/profile.d/conda.sh
conda init bash
source ~/.bashrc
```

### Q6: pip å®‰è£…æ—¶æŠ¥ "not a supported wheel"

**é—®é¢˜ç¤ºä¾‹**:
```
ERROR: torch-2.0.0+cu117-cp39-cp39-linux_x86_64.whl is not a supported wheel on this platform.
```

**å¯èƒ½åŸå› **:

1. **Python ç‰ˆæœ¬ä¸å¯¹**:
   ```bash
   python --version
   ```
   å¿…é¡»æ˜¯ Python 3.9.x

2. **ä¸‹è½½äº†é”™è¯¯ç‰ˆæœ¬çš„ .whl æ–‡ä»¶**:
   ç¡®è®¤æ–‡ä»¶ååŒ…å« `linux_x86_64`ï¼Œä¸æ˜¯ `win_amd64`

3. **æ²¡æœ‰æ¿€æ´»æ­£ç¡®çš„ç¯å¢ƒ**:
   ```bash
   conda activate environment2
   ```

### Q7: NumPy ç‰ˆæœ¬é”™è¯¯

**é—®é¢˜ç¤ºä¾‹**:
```
AttributeError: _ARRAY_API not found
A module that was compiled using NumPy 1.x cannot be run in NumPy 2.0.1
```

**è§£å†³æ–¹æ¡ˆ**:
```bash
# åœ¨ Ubuntu ç»ˆç«¯ä¸­ï¼Œæ¿€æ´»ç¯å¢ƒåè¿è¡Œ
conda activate environment2
pip install "numpy<2"

# éªŒè¯
python -c "import numpy; print(numpy.__version__)"
```

åº”è¯¥æ˜¾ç¤º 1.x ç‰ˆæœ¬ã€‚

### Q8: CUDA è·¯å¾„é”™è¯¯ï¼ˆæ˜¾ç¤º Windows è·¯å¾„ï¼‰

**é—®é¢˜ç¤ºä¾‹**:
```
-isystem C:\Program Files\NVIDIA GPU Computing Toolkit\CUDA\v12.1/include
c++: error: FilesNVIDIA: linker input file not found
```

**åŸå› **:
è®­ç»ƒè„šæœ¬ä¸­ç¡¬ç¼–ç äº† Windows CUDA è·¯å¾„ã€‚

**è§£å†³æ–¹æ¡ˆ**:
ä¿®æ”¹ `train_and_evaluate_demo.py` ç¬¬ 8 è¡Œï¼š

```bash
# åœ¨ Ubuntu ç»ˆç«¯ä¸­
cd ~/OrganADR/Part_02---Demo_of_Training_and_Evaluating_OrganADR/model
nano train_and_evaluate_demo.py
```

å°†:
```python
cuda_path = r"C:\Program Files\NVIDIA GPU Computing Toolkit\CUDA\v12.1"
```

æ”¹ä¸º:
```python
cuda_path = "/usr/local/cuda-11.7"
```

### Q9: GPU æ¶æ„ä¸æ”¯æŒ

**é—®é¢˜ç¤ºä¾‹**:
```
nvcc fatal   : Unsupported gpu architecture 'compute_89'
```

**è§£å†³æ–¹æ¡ˆ**:
ä¿®æ”¹ `train_and_evaluate_demo.py` ç¬¬ 12 è¡Œï¼š

```python
# å°†
os.environ.setdefault("TORCH_CUDA_ARCH_LIST", "8.9")

# æ”¹ä¸º
os.environ.setdefault("TORCH_CUDA_ARCH_LIST", "8.6")
```

### Q10: os.add_dll_directory é”™è¯¯

**é—®é¢˜ç¤ºä¾‹**:
```
AttributeError: module 'os' has no attribute 'add_dll_directory'
```

**åŸå› **:
`os.add_dll_directory` æ˜¯ Windows ä¸“ç”¨å‡½æ•°ã€‚

**è§£å†³æ–¹æ¡ˆ**:
åˆ é™¤ `train_and_evaluate_demo.py` ä¸­çš„ç¬¬ 48-49 è¡Œï¼š

```bash
nano train_and_evaluate_demo.py
```

åˆ é™¤æˆ–æ³¨é‡Šï¼š
```python
# os.add_dll_directory(r"C:\Users\tangw\.conda\envs\organadr\Lib\site-packages\torch\lib")
# os.add_dll_directory(r"C:\Program Files\NVIDIA GPU Computing Toolkit\CUDA\v12.1\bin")
```

### Q11: æ‰¾ä¸åˆ° torchdrug æ¨¡å—

**é—®é¢˜ç¤ºä¾‹**:
```
ModuleNotFoundError: No module named 'torchdrug'
```

**æ£€æŸ¥æ­¥éª¤**:

1. **ç¡®è®¤ç¯å¢ƒæ¿€æ´»**:
   ```bash
   conda env list
   ```
   åº”è¯¥çœ‹åˆ° `environment2` æ—è¾¹æœ‰ `*`

2. **å¦‚æœæ²¡æ¿€æ´»ï¼Œæ¿€æ´»å®ƒ**:
   ```bash
   conda activate environment2
   ```

3. **æ£€æŸ¥ torchdrug æ˜¯å¦å®‰è£…**:
   ```bash
   pip list | grep torchdrug
   ```

4. **å¦‚æœæ²¡å®‰è£…ï¼Œå®‰è£…å®ƒ**:
   ```bash
   pip install torchdrug
   ```

### Q12: å¦‚ä½•åœ¨ WSL2 å’Œ Windows ä¹‹é—´ä¼ è¾“æ–‡ä»¶ï¼Ÿ

**ä» Windows è®¿é—® Linux æ–‡ä»¶**:
åœ¨ Windows æ–‡ä»¶èµ„æºç®¡ç†å™¨åœ°å€æ è¾“å…¥:
```
\\wsl$\Ubuntu-22.04\home\diana
```

**ä» Linux è®¿é—® Windows æ–‡ä»¶**:
Windows çš„ç›˜ç¬¦æ˜ å°„:
- C ç›˜: `/mnt/c/`
- D ç›˜: `/mnt/d/`

ä¾‹å¦‚:
```bash
# åœ¨ Ubuntu ç»ˆç«¯ä¸­
ls /mnt/c/Users/tangw/Desktop
```

**å¤åˆ¶æ–‡ä»¶**:
```bash
# Windows -> Linux
cp /mnt/c/path/to/file ~/destination/

# Linux -> Windows
cp ~/path/to/file /mnt/c/destination/
```

### Q13: WSL2 å ç”¨å¤ªå¤šå†…å­˜

**é—®é¢˜**:
WSL2 é»˜è®¤ä¼šä½¿ç”¨æœ€å¤š 50% çš„ç³»ç»Ÿå†…å­˜ã€‚

**è§£å†³æ–¹æ¡ˆ**:
åœ¨ Windows PowerShell ä¸­åˆ›å»ºé…ç½®æ–‡ä»¶:

```powershell
notepad $env:USERPROFILE\.wslconfig
```

æ·»åŠ å†…å®¹:
```ini
[wsl2]
memory=8GB
processors=4
```

ä¿å­˜åé‡å¯ WSL:
```powershell
wsl --shutdown
```

### Q14: æ¯æ¬¡æ‰“å¼€ Ubuntu éƒ½è¦é‡æ–°æ¿€æ´»ç¯å¢ƒå—ï¼Ÿ

**æ˜¯çš„**ï¼Œæ¯æ¬¡æ‰“å¼€æ–°ç»ˆç«¯éƒ½éœ€è¦ï¼š

```bash
conda activate environment2
```

**è‡ªåŠ¨æ¿€æ´»æ–¹æ¡ˆ**:
ä¿®æ”¹ `~/.bashrc`:

```bash
echo 'conda activate environment2' >> ~/.bashrc
source ~/.bashrc
```

**ä½†ä¸æ¨è**ï¼Œå› ä¸ºå¯èƒ½å½±å“å…¶ä»–é¡¹ç›®ã€‚

**æ¨èæ–¹æ¡ˆ**:
ä½¿ç”¨ä¹‹å‰åˆ›å»ºçš„å¯åŠ¨è„šæœ¬ `run_train.sh`ã€‚

### Q15: å¦‚ä½•å®Œå…¨å¸è½½å¹¶é‡æ–°å¼€å§‹ï¼Ÿ

**å¸è½½ WSL2 Ubuntu**:
åœ¨ Windows PowerShellï¼ˆç®¡ç†å‘˜ï¼‰ä¸­:

```powershell
# æŸ¥çœ‹å·²å®‰è£…çš„å‘è¡Œç‰ˆ
wsl --list

# å¸è½½ Ubuntu 22.04
wsl --unregister Ubuntu-22.04
```

**é‡æ–°å®‰è£…**:
```powershell
wsl --install -d Ubuntu-22.04
```

ç„¶åä»é˜¶æ®µä¸€é‡æ–°å¼€å§‹ã€‚

---

## éªŒè¯æ¸…å•

å®‰è£…å®Œæˆåï¼Œåœ¨ **Ubuntu ç»ˆç«¯**ä¸­è¿è¡Œä»¥ä¸‹å‘½ä»¤éªŒè¯ï¼š

```bash
# 1. éªŒè¯ Linux ç¯å¢ƒ
echo "=== Linux Environment ==="
uname -a
cat /etc/os-release | grep "VERSION="

# 2. éªŒè¯ GPU
echo "=== GPU Check ==="
nvidia-smi

# 3. éªŒè¯ CUDA
echo "=== CUDA Check ==="
nvcc --version

# 4. éªŒè¯ Python ç¯å¢ƒ
echo "=== Python Environment ==="
conda activate environment2
python --version
conda env list

# 5. éªŒè¯ PyTorch
echo "=== PyTorch Check ==="
python << 'EOF'
import torch
print("PyTorch version:", torch.__version__)
print("CUDA available:", torch.cuda.is_available())
print("CUDA version:", torch.version.cuda)
if torch.cuda.is_available():
    print("GPU name:", torch.cuda.get_device_name(0))
EOF

# 6. éªŒè¯ NumPy
echo "=== NumPy Check ==="
python -c "import numpy; print('NumPy version:', numpy.__version__)"

# 7. éªŒè¯ torchdrug
echo "=== Torchdrug Check ==="
python -c "import torchdrug; print('torchdrug installed successfully')"

# 8. éªŒè¯é¡¹ç›®æ–‡ä»¶
echo "=== Project Files Check ==="
ls ~/OrganADR/
ls ~/OrganADR/Part_02---Demo_of_Training_and_Evaluating_OrganADR/model/

# 9. éªŒè¯è®­ç»ƒè„šæœ¬ä¿®æ”¹
echo "=== Training Script Check ==="
grep "cuda_path" ~/OrganADR/Part_02---Demo_of_Training_and_Evaluating_OrganADR/model/train_and_evaluate_demo.py
grep "TORCH_CUDA_ARCH_LIST" ~/OrganADR/Part_02---Demo_of_Training_and_Evaluating_OrganADR/model/train_and_evaluate_demo.py
```

**é¢„æœŸæ‰€æœ‰æ£€æŸ¥éƒ½é€šè¿‡**ï¼Œç„¶åå°±å¯ä»¥å¼€å§‹è®­ç»ƒäº†ï¼

---

## æ—¥å¸¸ä½¿ç”¨æµç¨‹

**æ¯æ¬¡æƒ³è¦è®­ç»ƒæ—¶**:

1. **æ‰“å¼€ Ubuntu ç»ˆç«¯**
   - ä»å¼€å§‹èœå•ç‚¹å‡» "Ubuntu 22.04 LTS"

2. **è¿›å…¥é¡¹ç›®ç›®å½•**
   ```bash
   cd ~/OrganADR/Part_02---Demo_of_Training_and_Evaluating_OrganADR/model
   ```

3. **è¿è¡Œå¯åŠ¨è„šæœ¬**
   ```bash
   ./run_train.sh
   ```

æˆ–è€…æ‰‹åŠ¨è¿è¡Œï¼š
```bash
conda activate environment2
python train_and_evaluate_demo.py --config ./config/demo.json
```

---

## é™„å½•ï¼šå…³é”®è·¯å¾„å¯¹ç…§è¡¨

| æè¿° | Windows è·¯å¾„ | WSL2 Ubuntu è·¯å¾„ |
|------|-------------|-----------------|
| é¡¹ç›®åŸå§‹ä½ç½® | `C:\DianaFile\tangCode\OrganADR` | `/mnt/c/DianaFile/tangCode/OrganADR` |
| Linux å·¥ä½œå‰¯æœ¬ | - | `~/OrganADR` æˆ– `/home/diana/OrganADR` |
| Miniconda | - | `~/miniconda3` |
| Environment2 | - | `~/miniconda3/envs/environment2` |
| CUDA | - | `/usr/local/cuda-11.7` |
| è®­ç»ƒè„šæœ¬ | - | `~/OrganADR/Part_02.../model/train_and_evaluate_demo.py` |

---

## é™„å½•ï¼šå¸¸ç”¨ Linux å‘½ä»¤

```bash
# æ–‡ä»¶å’Œç›®å½•æ“ä½œ
ls              # åˆ—å‡ºæ–‡ä»¶
ls -la          # åˆ—å‡ºæ‰€æœ‰æ–‡ä»¶ï¼ˆåŒ…æ‹¬éšè—æ–‡ä»¶ï¼‰
cd ç›®å½•å        # è¿›å…¥ç›®å½•
cd ..           # è¿”å›ä¸Šçº§ç›®å½•
cd ~            # è¿”å›ç”¨æˆ·ä¸»ç›®å½•
pwd             # æ˜¾ç¤ºå½“å‰ç›®å½•å®Œæ•´è·¯å¾„
mkdir ç›®å½•å     # åˆ›å»ºç›®å½•
rm æ–‡ä»¶å        # åˆ é™¤æ–‡ä»¶
rm -rf ç›®å½•å    # åˆ é™¤ç›®å½•åŠå…¶å†…å®¹

# æ–‡ä»¶æŸ¥çœ‹å’Œç¼–è¾‘
cat æ–‡ä»¶å       # æŸ¥çœ‹æ–‡ä»¶å†…å®¹
nano æ–‡ä»¶å      # ç¼–è¾‘æ–‡ä»¶ï¼ˆç®€å•ç¼–è¾‘å™¨ï¼‰
grep "æ–‡æœ¬" æ–‡ä»¶  # åœ¨æ–‡ä»¶ä¸­æœç´¢æ–‡æœ¬

# ç³»ç»Ÿä¿¡æ¯
uname -a        # ç³»ç»Ÿä¿¡æ¯
nvidia-smi      # GPU ä¿¡æ¯
top             # ç³»ç»Ÿèµ„æºä½¿ç”¨æƒ…å†µï¼ˆæŒ‰ q é€€å‡ºï¼‰

# Conda æ“ä½œ
conda env list          # åˆ—å‡ºæ‰€æœ‰ç¯å¢ƒ
conda activate ç¯å¢ƒå    # æ¿€æ´»ç¯å¢ƒ
conda deactivate        # é€€å‡ºå½“å‰ç¯å¢ƒ
pip list                # åˆ—å‡ºå·²å®‰è£…çš„åŒ…

# è¿›ç¨‹ç®¡ç†
ps aux                  # æŸ¥çœ‹æ‰€æœ‰è¿›ç¨‹
kill PID               # ç»“æŸè¿›ç¨‹ï¼ˆPID æ˜¯è¿›ç¨‹å·ï¼‰
Ctrl+C                 # ç»ˆæ­¢å½“å‰è¿è¡Œçš„ç¨‹åº
```

---

## æ€»ç»“

### å…³é”®è¦ç‚¹

1. âœ… **ç¯å¢ƒä½ç½®**: æ‰€æœ‰é…ç½®éƒ½åœ¨ **WSL2 Ubuntu 22.04 Linux ç¯å¢ƒ**ä¸­
2. âœ… **æ‰§è¡Œä½ç½®**: æ‰€æœ‰å‘½ä»¤éƒ½åœ¨ **Ubuntu ç»ˆç«¯**ä¸­æ‰§è¡Œ
3. âœ… **æ–‡ä»¶ä½ç½®**: é¡¹ç›®æ–‡ä»¶åœ¨ Linux æ–‡ä»¶ç³»ç»Ÿ `~/OrganADR`
4. âœ… **è·¯å¾„æ ¼å¼**: ä½¿ç”¨ Linux è·¯å¾„ `/usr/local/cuda-11.7`ï¼Œä¸æ˜¯ Windows è·¯å¾„
5. âœ… **ç¼–è¯‘å™¨**: ä½¿ç”¨ Linux ç¼–è¯‘å™¨ `g++`ï¼Œä¸æ˜¯ MSVC
6. âœ… **Python ç¯å¢ƒ**: åœ¨ Linux ä¸­åˆ›å»ºçš„ conda ç¯å¢ƒ

### æˆåŠŸæ ‡å¿—

å½“ä½ çœ‹åˆ°è¿™ä¸ªè¾“å‡ºæ—¶ï¼Œè¡¨ç¤ºé…ç½®æˆåŠŸï¼š

```bash
(environment2) diana@Diana-Tang:~/OrganADR/Part_02.../model$ python train_and_evaluate_demo.py --config ./config/demo.json
>>> boot
>>> torch ok 2.0.0+cu117
>>> parse config ok: ./config/demo.json
>>> dataloader init start
>>> vtKG ready
>>> dataloader ok
>>> model ok
epoch:  1    [Valid] PR-AUC:0.xxxxxx ROC-AUC:0.xxxxxx    [Test] PR-AUC:0.xxxxxx ROC-AUC:0.xxxxxx
```

---

**æ–‡æ¡£ç‰ˆæœ¬**: v2.0  
**æœ€åæ›´æ–°**: 2025-11-03  
**é€‚ç”¨ç¯å¢ƒ**: Windows 11 + WSL2 + Ubuntu 22.04 + NVIDIA RTX 4090  
**æ‰§è¡Œç¯å¢ƒ**: WSL2 Ubuntu 22.04 Linux ç»ˆç«¯